
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Docutils Project Policies &#8212; Thy&#39;s Notes  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">Thy's Notes</a></h1>



<p class="blurb">Collection of Notes, Snippets, HowTos, Public Docs, etc</p>






<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../public_index.html">Public Docs</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
              <div class="related top">
                &nbsp;
  <nav id="rellinks">
    <ul>
    </ul>
  </nav>
              </div>
          

          <div class="body" role="main">
            
  <div class="section" id="docutils-project-policies">
<h1><a class="toc-backref" href="#id15">Docutils Project Policies</a><a class="headerlink" href="#docutils-project-policies" title="Permalink to this headline">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Author</dt>
<dd class="field-odd"><p>David Goodger; open to all Docutils developers</p>
</dd>
<dt class="field-even">Contact</dt>
<dd class="field-even"><p><a class="reference external" href="mailto:docutils-develop&#37;&#52;&#48;lists&#46;sourceforge&#46;net">docutils-develop<span>&#64;</span>lists<span>&#46;</span>sourceforge<span>&#46;</span>net</a></p>
</dd>
<dt class="field-odd">Date</dt>
<dd class="field-odd"><p>$Date$</p>
</dd>
<dt class="field-even">Revision</dt>
<dd class="field-even"><p>$Revision$</p>
</dd>
<dt class="field-odd">Copyright</dt>
<dd class="field-odd"><p>This document has been placed in the public domain.</p>
</dd>
</dl>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#docutils-project-policies" id="id15">Docutils Project Policies</a></p>
<ul>
<li><p><a class="reference internal" href="#how-to-get-a-new-feature-into-docutils" id="id16">How to get a new feature into Docutils</a></p></li>
<li><p><a class="reference internal" href="#python-coding-conventions" id="id17">Python Coding Conventions</a></p></li>
<li><p><a class="reference internal" href="#documentation-conventions" id="id18">Documentation Conventions</a></p></li>
<li><p><a class="reference internal" href="#copyrights-and-licensing" id="id19">Copyrights and Licensing</a></p>
<ul>
<li><p><a class="reference internal" href="#clause-bsd-license" id="id20">2-Clause BSD license</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#repository" id="id21">Repository</a></p>
<ul>
<li><p><a class="reference internal" href="#branches" id="id22">Branches</a></p>
<ul>
<li><p><a class="reference internal" href="#review-criteria" id="id23">Review Criteria</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#check-ins" id="id24">Check-ins</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#version-identification" id="id25">Version Identification</a></p>
<ul>
<li><p><a class="reference internal" href="#docutils-version-info" id="id26"><code class="docutils literal notranslate"><span class="pre">docutils.__version_info__</span></code></a></p></li>
<li><p><a class="reference internal" href="#docutils-version" id="id27"><code class="docutils literal notranslate"><span class="pre">docutils.__version__</span></code></a></p></li>
<li><p><a class="reference internal" href="#policy-history" id="id28">Policy History</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#snapshots" id="id29">Snapshots</a></p></li>
<li><p><a class="reference internal" href="#setting-up-for-docutils-development" id="id30">Setting Up For Docutils Development</a></p></li>
<li><p><a class="reference internal" href="#mailing-lists" id="id31">Mailing Lists</a></p></li>
<li><p><a class="reference internal" href="#the-wiki" id="id32">The Wiki</a></p></li>
<li><p><a class="reference internal" href="#extensions-and-related-projects" id="id33">Extensions and Related Projects</a></p>
<ul>
<li><p><a class="reference internal" href="#the-sandbox" id="id34">The Sandbox</a></p></li>
<li><p><a class="reference internal" href="#parallel-projects" id="id35">Parallel Projects</a></p></li>
<li><p><a class="reference internal" href="#other-related-projects" id="id36">Other related projects</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<p>The Docutils project group is a meritocracy based on code contribution
and lots of discussion <a class="footnote-reference brackets" href="#bcs" id="id1">1</a>.  A few quotes sum up the policies of
the Docutils project.  The IETF’s classic credo (by MIT professor Dave
Clark) is an ideal we can aspire to:</p>
<blockquote>
<div><p>We reject: kings, presidents, and voting.  We believe in: rough
consensus and running code.</p>
</div></blockquote>
<p>As architect, chief cook and bottle-washer, David Goodger currently
functions as BDFN (Benevolent Dictator For Now).  (But he would
happily abdicate the throne given a suitable candidate.  Any takers?)</p>
<p>Eric S. Raymond, anthropologist of the hacker subculture, writes in
his essay <a class="reference external" href="http://www.catb.org/~esr/writings/magic-cauldron/">The Magic Cauldron</a>:</p>
<blockquote>
<div><p>The number of contributors [to] projects is strongly and inversely
correlated with the number of hoops each project makes a user go
through to contribute.</p>
</div></blockquote>
<p>We will endeavour to keep the barrier to entry as low as possible.
The policies below should not be thought of as barriers, but merely as
a codification of experience to date.  These are “best practices”;
guidelines, not absolutes.  Exceptions are expected, tolerated, and
used as a source of improvement.  Feedback and criticism is welcome.</p>
<p>As for control issues, Emmett Plant (CEO of the Xiph.org Foundation,
originators of Ogg Vorbis) put it well when he said:</p>
<blockquote>
<div><p>Open source dictates that you lose a certain amount of control
over your codebase, and that’s okay with us.</p>
</div></blockquote>
<dl class="footnote brackets">
<dt class="label" id="bcs"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Phrase borrowed from <a class="reference external" href="http://www.red-bean.com/sussman/svn-anti-fud.html">Ben Collins-Sussman of the Subversion
project</a>.</p>
</dd>
</dl>
<div class="section" id="how-to-get-a-new-feature-into-docutils">
<h2><a class="toc-backref" href="#id16">How to get a new feature into Docutils</a><a class="headerlink" href="#how-to-get-a-new-feature-into-docutils" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>Question:</dt><dd><p>I would very much like to have this new feature in the Docutils core.
What exactly do I have to do to make this possible?</p>
</dd>
</dl>
<ul>
<li><p>Present your idea at the <a class="reference external" href="../user/mailing-lists.html#docutils-develop">Docutils-develop</a> mailing list,</p>
<dl class="option-list">
<dt><kbd><span class="option">+1</span></kbd></dt>
<dd><p>usually triggers a fast response,</p>
</dd>
<dt><kbd><span class="option">-1</span></kbd></dt>
<dd><p>may be forgotten later,</p>
</dd>
</dl>
<p>and/or file a ticket at Docutils’ <a class="reference external" href="http://sourceforge.net/p/docutils/feature-requests/">feature request tracker</a>.</p>
<dl class="option-list">
<dt><kbd><span class="option">+1</span></kbd></dt>
<dd><p>there is a permanent record,</p>
</dd>
<dt><kbd><span class="option">-1</span></kbd></dt>
<dd><p>it may stay forgotten among all the other feature requests.</p>
</dd>
</dl>
</li>
<li><p>Convince a Docutils developer that this is a valuable addition worth the
effort.</p></li>
<li><p>Contribute. The developers will make sure that the contribution fits
nicely into Docutils (cf. the <a class="reference internal" href="#review-criteria">review criteria</a>). This might involve
discussing (and compromising on) design and implementation details. It
might also lead to the conclusion that the addition fits better in the
<a class="reference internal" href="#extensions-and-related-projects">extensions and related projects</a>.</p></li>
<li><p>Be patient, and be persistent.  None of us are paid to do this,
it’s all in our spare time – which is precious and rare.</p></li>
</ul>
<p>How to make code contributions that are easily accepted:</p>
<ul>
<li><p>Have a look at the <a class="reference internal" href="#python-coding-conventions">Python coding conventions</a> and <a class="reference internal" href="#documentation-conventions">documentation
conventions</a> below.</p></li>
<li><p><strong>Prepare test cases.</strong> This vastly helps when integrating new code. Test
cases are also examples and showcases for new features. See <a class="reference external" href="testing.html">Docutils
Testing</a> for a description of the test suite in <code class="docutils literal notranslate"><span class="pre">docutils/test/</span></code>.</p>
<p>Ensure the addition works with all <a class="reference external" href="../../README.html#requirements">supported Python versions</a>.</p>
</li>
<li><p>Look at the Docutils sources to see how similar features are implemented,
learn to do it “the Docutils way”.</p></li>
<li><p>Prepare a patch or an addition to the existing documentation.
Include links.</p></li>
<li><p>If you are familiar with version control, consider creating a <a class="reference internal" href="#feature-branch">feature
branch</a> in a Docutils <a class="reference internal" href="#repository">repository</a> checkout. (Working with branches is
<em>much</em> easier with <a class="reference external" href="http://git-scm.com/">git</a>. You can get a git clone of the repository from
<a class="reference external" href="http://repo.or.cz/w/docutils.git">http://repo.or.cz/w/docutils.git</a> or with git-svn.)</p></li>
</ul>
</div>
<div class="section" id="python-coding-conventions">
<h2><a class="toc-backref" href="#id17">Python Coding Conventions</a><a class="headerlink" href="#python-coding-conventions" title="Permalink to this headline">¶</a></h2>
<p>Contributed code will not be refused merely because it does not
strictly adhere to these conditions; as long as it’s internally
consistent, clean, and correct, it probably will be accepted.  But
don’t be surprised if the “offending” code gets fiddled over time to
conform to these conventions.</p>
<p>The Docutils project shall follow the generic coding conventions as
specified in the <a class="reference external" href="http://www.python.org/peps/pep-0008.html">Style Guide for Python Code</a> and <a class="reference external" href="http://www.python.org/peps/pep-0257.html">Docstring
Conventions</a> PEPs, summarized, clarified, and extended as follows:</p>
<ul class="simple">
<li><p>4 spaces per indentation level.  No hard tabs.</p></li>
<li><p>Use only 7-bit ASCII, no 8-bit strings.  See <a class="reference external" href="../howto/i18n.html#python-code">Docutils
Internationalization</a>.</p></li>
<li><p>No one-liner compound statements (i.e., no <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">x:</span> <span class="pre">return</span></code>: use two
lines &amp; indentation), except for degenerate class or method
definitions (i.e., <code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">X:</span> <span class="pre">pass</span></code> is OK.).</p></li>
<li><p>Lines should be no more than 78 characters long.</p></li>
<li><p>Use “StudlyCaps” for class names (except for element classes in
docutils.nodes).</p></li>
<li><p>Use “lowercase” or “lowercase_with_underscores” for function,
method, and variable names.  For short names, maximum two words,
joined lowercase may be used (e.g. “tagname”).  For long names with
three or more words, or where it’s hard to parse the split between
two words, use lowercase_with_underscores (e.g.,
“note_explicit_target”, “explicit_target”).  If in doubt, use
underscores.</p></li>
<li><p>Avoid lambda expressions, which are inherently difficult to
understand.  Named functions are preferable and superior: they’re
faster (no run-time compilation), and well-chosen names serve to
document and aid understanding.</p></li>
<li><p>Avoid functional constructs (filter, map, etc.).  Use list
comprehensions instead.</p></li>
<li><p>Avoid <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">__future__</span> <span class="pre">import</span></code> constructs.  They are inappropriate
for production code.</p></li>
<li><p>Use ‘single quotes’ for string literals, and “””triple double
quotes””” for docstrings.</p></li>
</ul>
</div>
<div class="section" id="documentation-conventions">
<h2><a class="toc-backref" href="#id18">Documentation Conventions</a><a class="headerlink" href="#documentation-conventions" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>Docutils documentation is written using reStructuredText, of course.</p></li>
<li><p>Use 7-bit ASCII if at all possible, and Unicode substitutions when
necessary.</p></li>
<li><p>Use the following section title adornment styles:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>================
 Document Title
================

--------------------------------------------
 Document Subtitle, or Major Division Title
--------------------------------------------

Section
=======

Subsection
----------

Sub-Subsection
``````````````

Sub-Sub-Subsection
..................
</pre></div>
</div>
</li>
<li><p>Use two blank lines before each section/subsection/etc. title.  One
blank line is sufficient between immediately adjacent titles.</p></li>
<li><p>Add a bibliographic field list immediately after the document
title/subtitle.  See the beginning of this document for an example.</p></li>
<li><p>Add an Emacs “local variables” block in a comment at the end of the
document.  See the end of this document for an example.</p></li>
</ul>
</div>
<div class="section" id="copyrights-and-licensing">
<h2><a class="toc-backref" href="#id19">Copyrights and Licensing</a><a class="headerlink" href="#copyrights-and-licensing" title="Permalink to this headline">¶</a></h2>
<p>The majority of the Docutils project code and documentation has been
placed in the public domain.  Unless clearly and explicitly indicated
otherwise, any patches (modifications to existing files) submitted to
the project for inclusion (via Subversion, SourceForge trackers,
mailing lists, or private email) are assumed to be in the public
domain as well.</p>
<p>Any new files contributed to the project should clearly state their
intentions regarding copyright, in one of the following ways:</p>
<ul>
<li><p>Public domain (preferred): include the statement “This
module/document has been placed in the public domain.”</p></li>
<li><p>Copyright &amp; open source license: include a copyright notice, along
with either an embedded license statement, a reference to an
accompanying license file, or a license URL.</p>
<p>The license should be well known, simple and compatible with other
open source software licenses. To keep the number of different
licenses at a minimum, using the <a class="reference internal" href="#clause-bsd-license">2-Clause BSD license</a>
is recommended.</p>
</li>
</ul>
<div class="section" id="clause-bsd-license">
<h3><a class="toc-backref" href="#id20">2-Clause BSD license</a><a class="headerlink" href="#clause-bsd-license" title="Permalink to this headline">¶</a></h3>
<p>(also known as “Simplified” or <cite>FreeBSD license</cite>)</p>
<blockquote>
<div><p>If you want a simple, permissive non-copyleft free software license, the
FreeBSD license is a reasonable choice. However, please don’t call it a
“BSD” or “BSD-style” license, because that is likely to cause confusion
which could lead to use of the flawed original BSD license.</p>
<p class="attribution">—<a class="reference external" href="https://www.gnu.org/licenses/license-list.html">Various Licenses and Comments about Them</a></p>
</div></blockquote>
<dl class="simple">
<dt>Pros:</dt><dd><ul class="simple">
<li><p>clear wording, structured text</p></li>
<li><p>license used by the closely related Sphinx project</p></li>
<li><p>“2-Clause BSD license” is a non-ambiguous name, used by both, OSI and
GNU.</p></li>
</ul>
</dd>
<dt>References:</dt><dd><ul class="simple">
<li><p><a class="reference external" href="https://www.freebsd.org/copyright/freebsd-license.html">https://www.freebsd.org/copyright/freebsd-license.html</a></p></li>
<li><p><a class="reference external" href="https://opensource.org/licenses/BSD-2-Clause">https://opensource.org/licenses/BSD-2-Clause</a></p></li>
<li><p><a class="reference external" href="https://spdx.org/licenses/BSD-2-Clause.html">https://spdx.org/licenses/BSD-2-Clause.html</a></p></li>
</ul>
</dd>
</dl>
</div>
</div>
<div class="section" id="repository">
<span id="subversion-repository"></span><h2><a class="toc-backref" href="#id21">Repository</a><a class="headerlink" href="#repository" title="Permalink to this headline">¶</a></h2>
<p>Please see the <a class="reference external" href="repository.html">repository documentation</a> for details on how to
access Docutils’ Subversion repository.  Anyone can access the
repository anonymously.  Only project developers can make changes.
(If you would like to become a project developer, just ask!)  Also see
<a class="reference internal" href="#setting-up-for-docutils-development">Setting Up For Docutils Development</a> below for some useful info.</p>
<p>Unless you really <em>really</em> know what you’re doing, please do <em>not</em> use
<code class="docutils literal notranslate"><span class="pre">svn</span> <span class="pre">import</span></code>.  It’s quite easy to mess up the repository with an
import.</p>
<div class="section" id="branches">
<h3><a class="toc-backref" href="#id22">Branches</a><a class="headerlink" href="#branches" title="Permalink to this headline">¶</a></h3>
<p>(These branch policies go into effect with Docutils 0.4.)</p>
<p>The “docutils” directory of the <strong>trunk</strong> (a.k.a. the <strong>Docutils
core</strong>) is used for active – but stable, fully tested, and reviewed
– development.</p>
<p>If we need to cut a bugfix release, we’ll create a <strong>maintenance branch</strong>
based on the latest feature release.  For example, when Docutils 0.5 is
released, this would be <code class="docutils literal notranslate"><span class="pre">branches/docutils-0.5</span></code>, and any existing 0.4.x
maintenance branches may be retired.  Maintenance branches will receive bug
fixes only; no new features will be allowed here.</p>
<p>Obvious and uncontroversial bug fixes <em>with tests</em> can be checked in
directly to the core and to the maintenance branches.  Don’t forget to
add test cases!  Many (but not all) bug fixes will be applicable both
to the core and to the maintenance branches; these should be applied
to both.  No patches or dedicated branches are required for bug fixes,
but they may be used.  It is up to the discretion of project
developers to decide which mechanism to use for each case.</p>
<p id="feature-branch"><span id="feature-branches"></span>Feature additions and API changes will be done in <strong>feature
branches</strong>.  Feature branches will not be managed in any way.
Frequent small checkins are encouraged here.  Feature branches must be
discussed on the <a class="reference external" href="http://lists.sourceforge.net/lists/listinfo/docutils-develop">docutils-develop mailing list</a> and reviewed before
being merged into the core.</p>
<div class="section" id="review-criteria">
<h4><a class="toc-backref" href="#id23">Review Criteria</a><a class="headerlink" href="#review-criteria" title="Permalink to this headline">¶</a></h4>
<p>Before a new feature, an API change, or a complex, disruptive, or
controversial bug fix can be checked in to the core or into a
maintenance branch, it must undergo review.  These are the criteria:</p>
<ul class="simple">
<li><p>The branch must be complete, and include full documentation and
tests.</p></li>
<li><p>There should ideally be one branch merge commit per feature or
change.  In other words, each branch merge should represent a
coherent change set.</p></li>
<li><p>The code must be stable and uncontroversial.  Moving targets and
features under debate are not ready to be merged.</p></li>
<li><p>The code must work.  The test suite must complete with no failures.
See <a class="reference external" href="testing.html">Docutils Testing</a>.</p></li>
</ul>
<p>The review process will ensure that at least one other set of eyeballs
&amp; brains sees the code before it enters the core.  In addition to the
above, the general <a class="reference internal" href="#check-ins">Check-ins</a> policy (below) also applies.</p>
</div>
</div>
<div class="section" id="check-ins">
<h3><a class="toc-backref" href="#id24">Check-ins</a><a class="headerlink" href="#check-ins" title="Permalink to this headline">¶</a></h3>
<p>Changes or additions to the Docutils core and maintenance branches
carry a commitment to the Docutils user community.  Developers must be
prepared to fix and maintain any code they have committed.</p>
<p>The Docutils core (<code class="docutils literal notranslate"><span class="pre">trunk/docutils</span></code> directory) and maintenance
branches should always be kept in a stable state (usable and as
problem-free as possible).  All changes to the Docutils core or
maintenance branches must be in <a class="reference internal" href="#good-shape">good shape</a>, <a class="reference internal" href="#usable">usable</a>, <a class="reference internal" href="#documented">documented</a>,
<a class="reference internal" href="#tested">tested</a>, and <a class="reference internal" href="#reasonably-complete">reasonably complete</a>.</p>
<ul class="simple">
<li><p><span class="target" id="good-shape">Good shape</span> means that the code is clean, readable, and free of
junk code (unused legacy code; by analogy to “junk DNA”).</p></li>
<li><p><span class="target" id="usable">Usable</span> means that the code does what it claims to do.  An “XYZ
Writer” should produce reasonable XYZ output.</p></li>
<li><p><span class="target" id="documented">Documented</span>: The more complete the documentation the better.
Modules &amp; files must be at least minimally documented internally.
<a class="reference external" href="../user/tools.html">Docutils Front-End Tools</a> should have a new section for any
front-end tool that is added.  <a class="reference external" href="../user/config.html">Docutils Configuration Files</a>
should be modified with any settings/options defined.  For any
non-trivial change, the <a class="reference external" href="../../HISTORY.txt">HISTORY.txt</a> file should be updated.</p></li>
<li><p><span class="target" id="tested">Tested</span> means that unit and/or functional tests, that catch all
bugs fixed and/or cover all new functionality, have been added to
the test suite.  These tests must be checked by running the test
suite under all supported Python versions, and the entire test suite
must pass.  See <a class="reference external" href="testing.html">Docutils Testing</a>.</p></li>
<li><p><span class="target" id="reasonably-complete">Reasonably complete</span> means that the code must handle all input.
Here “handle” means that no input can cause the code to fail (cause
an exception, or silently and incorrectly produce nothing).
“Reasonably complete” does not mean “finished” (no work left to be
done).  For example, a writer must handle every standard element
from the Docutils document model; for unimplemented elements, it
must <em>at the very least</em> warn that “Output for element X is not yet
implemented in writer Y”.</p></li>
</ul>
<p>If you really want to check code directly into the Docutils core,
you can, but you must ensure that it fulfills the above criteria
first.  People will start to use it and they will expect it to work!
If there are any issues with your code, or if you only have time for
gradual development, you should put it on a branch or in the sandbox
first.  It’s easy to move code over to the Docutils core once it’s
complete.</p>
<p>It is the responsibility and obligation of all developers to keep the
Docutils core and maintenance branches stable.  If a commit is made to
the core or maintenance branch which breaks any test, the solution is
simply to revert the change.  This is not vindictive; it’s practical.
We revert first, and discuss later.</p>
<p>Docutils will pursue an open and trusting policy for as long as
possible, and deal with any aberrations if (and hopefully not when)
they happen.  We’d rather see a torrent of loose contributions than
just a trickle of perfect-as-they-stand changes.  The occasional
mistake is easy to fix.  That’s what version control is for!</p>
</div>
</div>
<div class="section" id="version-identification">
<span id="version-numbering"></span><h2><a class="toc-backref" href="#id25">Version Identification</a><a class="headerlink" href="#version-identification" title="Permalink to this headline">¶</a></h2>
<p>The state of development of the current Docutils codebase is stored in
two forms: the sequence <a class="reference internal" href="#docutils-version-info">docutils.__version_info__</a> and the
<a class="reference external" href="https://www.python.org/dev/peps/pep-0440/">PEP 440</a> conformant text string <a class="reference internal" href="#docutils-version">docutils.__version__</a>.
See also the <a class="reference external" href="release.html#version-numbers">Docutils Release Procedure</a></p>
<div class="section" id="docutils-version-info">
<h3><a class="toc-backref" href="#id26"><code class="docutils literal notranslate"><span class="pre">docutils.__version_info__</span></code></a><a class="headerlink" href="#docutils-version-info" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">docutils.__version_info__</span></code> is an instance of <code class="docutils literal notranslate"><span class="pre">docutils.VersionInfo</span></code>
based on <a class="reference external" href="https://docs.python.org/3/library/collections.html#collections.namedtuple">collections.namedtuple</a>. It is modelled on <a class="reference external" href="https://docs.python.org/3/library/sys.html#sys.version_info">sys.version_info</a>
and has the following attributes:</p>
<dl>
<dt>major<span class="classifier">non-negative integer</span></dt><dd><p><strong>Major releases</strong> (x.0, e.g. 1.0) will be rare, and will
represent major changes in API, functionality, or commitment.  The
major number will be bumped to 1 when the project is
feature-complete, and may be incremented later if there is a major
change in the design or API.  When Docutils reaches version 1.0,
the major APIs will be considered frozen and backward
compatibility will become of paramount importance.</p>
</dd>
<dt>minor<span class="classifier">non-negative integer</span></dt><dd><p>Releases that change the minor number (x.y, e.g. 0.5) will be
<strong>feature releases</strong>; new features from the <a class="reference external" href="http://sourceforge.net/p/docutils/code/HEAD/tree/trunk/docutils">Docutils core</a> will
be included.</p>
</dd>
<dt>micro<span class="classifier">non-negative integer</span></dt><dd><p>Releases that change the micro number (x.y.z, e.g. 0.4.1) will be
<strong>bug-fix releases</strong>.  No new features will be introduced in these
releases; only bug fixes will be included.</p>
<p>The micro number is omitted from <a class="reference internal" href="#docutils-version">docutils.__version__</a> when it
equals zero.</p>
</dd>
<dt><span class="target" id="releaselevel">releaselevel</span><span class="classifier">text string</span></dt><dd><p>The release level indicates the <a class="reference external" href="https://en.wikipedia.org/wiki/Software_release_life_cycle">development status</a> (or phase)
of the project’s codebase:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 14%" />
<col style="width: 67%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Release Level</p></th>
<th class="head"><p>Label <a class="footnote-reference brackets" href="#id4" id="id3">2</a></p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>alpha</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">a</span></code></p></td>
<td><p>Reserved for use after major experimental
changes, to indicate an unstable codebase.</p></td>
</tr>
<tr class="row-odd"><td><p>beta</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">b</span></code></p></td>
<td><p>Indicates active development, between releases.</p></td>
</tr>
<tr class="row-even"><td><p>candidate</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">rc</span></code></p></td>
<td><p>Release candidate: indicates that the
codebase is ready to release unless
significant bugs emerge.</p></td>
</tr>
<tr class="row-odd"><td><p>final</p></td>
<td></td>
<td><p>Indicates an official project release.</p></td>
</tr>
</tbody>
</table>
<dl class="footnote brackets">
<dt class="label" id="id4"><span class="brackets"><a class="fn-backref" href="#id3">2</a></span></dt>
<dd><p>The labels are used in the <a class="reference internal" href="#docutils-version">docutils.__version__</a> pre-release
segment.</p>
</dd>
</dl>
</dd>
<dt><span class="target" id="serial">serial</span><span class="classifier">non-negative integer</span></dt><dd><p>The serial number is zero for final releases and incremented
whenever a new pre-release is begun.</p>
</dd>
<dt><span class="target" id="release">release</span><span class="classifier">boolean</span></dt><dd><p>True for official releases and pre-releases, False during
development.</p>
</dd>
</dl>
<ul class="simple">
<li><p>One of <em>{major, minor, micro, serial}</em> is incremented after each
release, and the lower-order numbers are reset to 0.</p></li>
<li><p>The default state of the repository during active development is
release level = “beta”, serial = 0, release = False.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">docutils.__version_info__</span></code> can be used to test for a minimally
required version, e.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">docutils</span><span class="o">.</span><span class="n">__version_info__</span> <span class="o">&gt;=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">13</span><span class="p">)</span>
</pre></div>
</div>
<p>is True for all versions after <code class="docutils literal notranslate"><span class="pre">&quot;0.13&quot;</span></code>.</p>
</div>
<div class="section" id="docutils-version">
<h3><a class="toc-backref" href="#id27"><code class="docutils literal notranslate"><span class="pre">docutils.__version__</span></code></a><a class="headerlink" href="#docutils-version" title="Permalink to this headline">¶</a></h3>
<p>The text string <code class="docutils literal notranslate"><span class="pre">docutils.__version__</span></code> is a human readable,
<a class="reference external" href="https://www.python.org/dev/peps/pep-0440/">PEP 440</a>-conforming version specifier.  For version comparison
operations, use <a class="reference internal" href="#docutils-version-info">docutils.__version_info__</a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">docutils.__version__</span></code> takes the following form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;&lt;major&gt;.&lt;minor&gt;[.&lt;micro&gt;][&lt;releaselevel&gt;[&lt;serial&gt;]][.dev]&quot;</span>
 <span class="o">&lt;---</span> <span class="n">release</span> <span class="n">segment</span> <span class="o">---&gt;&lt;--</span> <span class="n">pre</span><span class="o">-</span><span class="n">release</span> <span class="n">segment</span> <span class="o">-&gt;&lt;-</span> <span class="n">development</span> <span class="o">-&gt;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>The <em>pre-release segment</em> contains a label representing the
<a class="reference internal" href="#releaselevel">releaselevel</a> (“a”, “b”, or “rc”) and eventually a <a class="reference internal" href="#serial">serial</a> number
(omitted, if zero).</p></li>
<li><p>The <em>development segment</em> is <code class="docutils literal notranslate"><span class="pre">&quot;.dev&quot;</span></code> during active development
(<a class="reference internal" href="#release">release</a> == False) and omitted for official releases and pre-releases.</p></li>
</ul>
<p>Examples of <code class="docutils literal notranslate"><span class="pre">docutils.__version__</span></code> identifiers, over the course of
normal development (without branches), in ascending order:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 51%" />
<col style="width: 49%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Release Level</p></th>
<th class="head"><p>Version Identifier</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>final (release)</p></td>
<td><p>0.14</p></td>
</tr>
<tr class="row-odd"><td><p>beta (development) <a class="footnote-reference brackets" href="#dev" id="id5">3</a></p></td>
<td><p>0.15b.dev</p></td>
</tr>
<tr class="row-even"><td><p>beta (release)  <a class="footnote-reference brackets" href="#skip" id="id6">4</a></p></td>
<td><p>0.15b</p></td>
</tr>
<tr class="row-odd"><td><p>candidate 1 (dev.)</p></td>
<td><p>0.15rc1.dev</p></td>
</tr>
<tr class="row-even"><td><p>candidate 1 (release)</p></td>
<td><p>0.15rc1</p></td>
</tr>
<tr class="row-odd"><td><p>candidate 2 (dev.) <a class="footnote-reference brackets" href="#skip" id="id7">4</a></p></td>
<td><p>0.15rc2.dev</p></td>
</tr>
<tr class="row-even"><td><p>candidate 2 (release) <a class="footnote-reference brackets" href="#skip" id="id8">4</a></p></td>
<td><p>0.15rc2</p></td>
</tr>
<tr class="row-odd"><td><p>…</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>final (release)</p></td>
<td><p>0.15</p></td>
</tr>
<tr class="row-odd"><td><p>beta (development) <a class="footnote-reference brackets" href="#dev" id="id9">3</a></p></td>
<td><p>0.16b.dev</p></td>
</tr>
</tbody>
</table>
<dl class="footnote brackets">
<dt class="label" id="dev"><span class="brackets">3</span><span class="fn-backref">(<a href="#id5">1</a>,<a href="#id9">2</a>)</span></dt>
<dd><p>Default active development state between releases.</p>
</dd>
<dt class="label" id="skip"><span class="brackets">4</span><span class="fn-backref">(<a href="#id6">1</a>,<a href="#id7">2</a>,<a href="#id8">3</a>)</span></dt>
<dd><p>These steps may be skipped.</p>
</dd>
</dl>
</div>
<div class="section" id="policy-history">
<h3><a class="toc-backref" href="#id28">Policy History</a><a class="headerlink" href="#policy-history" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Prior to version 0.4, Docutils didn’t have an official version
numbering policy, and micro releases contained both bug fixes and
new features.</p></li>
<li><p>An earlier version of this policy was adopted in October 2005, and
took effect with Docutils version 0.4.</p></li>
<li><p>This policy was updated in June 2017 for Docutils version 0.14. See
<a class="reference external" href="https://sourceforge.net/p/docutils/feature-requests/50/">Feature Request #50</a> and the <a class="reference external" href="https://sourceforge.net/p/docutils/mailman/message/35903816/">discussion on docutils-devel</a> from
May 28 to June 20 2017.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="snapshots">
<h2><a class="toc-backref" href="#id29">Snapshots</a><a class="headerlink" href="#snapshots" title="Permalink to this headline">¶</a></h2>
<p>Snapshot tarballs can be downloaded from the repository (see the “download
snapshot” button in the head of the code listing table).</p>
<ul class="simple">
<li><p>the <a class="reference external" href="http://sourceforge.net/p/docutils/code/HEAD/tree/trunk/docutils">Docutils core</a>, representing the current cutting-edge state of
development;</p></li>
<li><p>the <a class="reference external" href="http://sourceforge.net/p/docutils/code/HEAD/tree/trunk/sandbox/">sandbox directory</a> with contributed projects and extensions from
<a class="reference internal" href="#the-sandbox">the Sandbox</a>;</p></li>
</ul>
<ul class="simple">
<li><p><a class="reference external" href="http://sourceforge.net/p/docutils/code/HEAD/tree/branches/">development branches</a>, representing ongoing development efforts to bring
new features into Docutils.</p></li>
</ul>
</div>
<div class="section" id="setting-up-for-docutils-development">
<h2><a class="toc-backref" href="#id30">Setting Up For Docutils Development</a><a class="headerlink" href="#setting-up-for-docutils-development" title="Permalink to this headline">¶</a></h2>
<p>When making changes to the code, testing is a must.  The code should
be run to verify that it produces the expected results, and the entire
test suite should be run too.  The modified Docutils code has to be
accessible to Python for the tests to have any meaning.  There are several
ways to keep the Docutils code accessible during development:</p>
<ol class="arabic">
<li><p>Update your <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code> environment variable so that Python
picks up your local working copy of the code.</p>
<p>We’ll assume that the <a class="reference external" href="repository.html">Docutils trunk</a> is checked out under your
<code class="docutils literal notranslate"><span class="pre">~/projects/</span></code> directory.</p>
<p>For the bash shell, add this to your <code class="docutils literal notranslate"><span class="pre">~/.profile</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>PYTHONPATH=$HOME/projects/docutils/docutils
export PYTHONPATH
</pre></div>
</div>
<p>The first line points to the directory containing the <code class="docutils literal notranslate"><span class="pre">docutils</span></code>
package.  The second line exports this environment variable.</p>
<p>You many also want to add the <code class="docutils literal notranslate"><span class="pre">tools</span></code> directory to your binary <code class="docutils literal notranslate"><span class="pre">PATH</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>PATH=$PATH:$HOME/projects/docutils/docutils/tools
export PATH
</pre></div>
</div>
</li>
<li><p>Create a symlink to the docutils package directory somewhere in the
module serach path (<code class="docutils literal notranslate"><span class="pre">sys.path</span></code>), e.g.,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="o">~/</span><span class="n">projects</span><span class="o">/</span><span class="n">docutils</span><span class="o">/</span><span class="n">docutils</span> \
     <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python2</span><span class="mf">.7</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span>
</pre></div>
</div>
<p>Alternatively, use a <a class="reference external" href="https://docs.python.org/library/site.html">path configuration file</a>.</p>
<p>You may also want to copy or link the front-end tools in
<code class="docutils literal notranslate"><span class="pre">docutils/tools</span></code> to a suitable place in your binary PATH, e.g.,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="o">~/</span><span class="n">projects</span><span class="o">/</span><span class="n">docutils</span><span class="o">/</span><span class="n">docutils</span><span class="o">/</span><span class="n">tools</span><span class="o">/</span><span class="n">rst2html</span><span class="o">.</span><span class="n">py</span> \
      <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">rst2html</span>
</pre></div>
</div>
</li>
<li><p>Do an <a class="reference external" href="https://pip.pypa.io/en/stable/reference/pip_install/#editable-installs">editable install</a> with pip.</p>
</li>
<li><p>Install in <a class="reference external" href="https://setuptools.readthedocs.io/en/latest/setuptools.html#development-mode">development mode</a> with setuptools.</p>
</li>
<li><p>Before you run anything, every time you make a change, reinstall
Docutils:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="n">setup</span><span class="o">.</span><span class="n">py</span> <span class="n">install</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>This method is <strong>not</strong> recommended for day-to-day development;
it’s too easy to forget.  Confusion inevitably ensues.</p>
<p>If you install Docutils this way, Python will always pick up the
last-installed copy of the code.  If you ever forget to
reinstall the “docutils” package, Python won’t see your latest
changes.</p>
</div>
</li>
</ol>
<p>A useful addition to the <code class="docutils literal notranslate"><span class="pre">docutils</span></code> top-level directory in branches
and alternate copies of the code is a <code class="docutils literal notranslate"><span class="pre">set-PATHS</span></code> file
containing the following lines:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># source this file
export PYTHONPATH=$PWD:$PWD
export PATH=$PWD/tools:$PATH
</pre></div>
</div>
<p>Open a shell for this branch, <code class="docutils literal notranslate"><span class="pre">cd</span></code> to the <code class="docutils literal notranslate"><span class="pre">docutils</span></code> top-level
directory, and “source” this file.  For example, using the bash
shell:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd some-branch/docutils
$ . set-PATHS
</pre></div>
</div>
</div>
<div class="section" id="mailing-lists">
<h2><a class="toc-backref" href="#id31">Mailing Lists</a><a class="headerlink" href="#mailing-lists" title="Permalink to this headline">¶</a></h2>
<p>Developers are recommended to subscribe to all <a class="reference external" href="../user/mailing-lists.html">Docutils mailing
lists</a>.</p>
</div>
<div class="section" id="the-wiki">
<h2><a class="toc-backref" href="#id32">The Wiki</a><a class="headerlink" href="#the-wiki" title="Permalink to this headline">¶</a></h2>
<p>There is a development wiki at <a class="reference external" href="http://docutils.python-hosting.com/">http://docutils.python-hosting.com/</a> as
a scratchpad for transient notes.  Please use the repository for
permament document storage.</p>
</div>
<div class="section" id="extensions-and-related-projects">
<h2><a class="toc-backref" href="#id33">Extensions and Related Projects</a><a class="headerlink" href="#extensions-and-related-projects" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-sandbox">
<h3><a class="toc-backref" href="#id34">The Sandbox</a><a class="headerlink" href="#the-sandbox" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference external" href="http://sourceforge.net/p/docutils/code/HEAD/tree/trunk/sandbox/">sandbox directory</a> is a place to play around, to try out and
share ideas.  It’s a part of the Subversion repository but it isn’t
distributed as part of Docutils releases.  Feel free to check in code
to the sandbox; that way people can try it out but you won’t have to
worry about it working 100% error-free, as is the goal of the Docutils
core.  A project-specific subdirectory should be created for each new
project.  Any developer who wants to play in the sandbox may do so,
but project directories are recommended over personal directories,
which discourage collaboration.  It’s OK to make a mess in the
sandbox!  But please, play nice.</p>
<p>Please update the <a class="reference external" href="http://docutils.sf.net/sandbox/README.html">sandbox README</a> file with links and a brief
description of your work.</p>
<p>In order to minimize the work necessary for others to install and try
out new, experimental components, the following sandbox directory
structure is recommended:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sandbox</span><span class="o">/</span>
    <span class="n">project_name</span><span class="o">/</span> <span class="c1"># For a collaborative project.</span>
        <span class="n">README</span><span class="o">.</span><span class="n">txt</span>  <span class="c1"># Describe the requirements, purpose/goals, usage,</span>
                    <span class="c1"># and list the maintainers.</span>
        <span class="n">docs</span><span class="o">/</span>
            <span class="o">...</span>
        <span class="n">component</span><span class="o">.</span><span class="n">py</span>    <span class="c1"># The component is a single module.</span>
                        <span class="c1"># *OR* (but *not* both)</span>
        <span class="n">component</span><span class="o">/</span>      <span class="c1"># The component is a package.</span>
            <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>  <span class="c1"># Contains the Reader/Writer class.</span>
            <span class="n">other1</span><span class="o">.</span><span class="n">py</span>    <span class="c1"># Other modules and data files used</span>
            <span class="n">data</span><span class="o">.</span><span class="n">txt</span>     <span class="c1"># by this component.</span>
            <span class="o">...</span>
        <span class="n">test</span><span class="o">/</span>       <span class="c1"># Test suite.</span>
            <span class="o">...</span>
        <span class="n">tools</span><span class="o">/</span>      <span class="c1"># For front ends etc.</span>
            <span class="o">...</span>
        <span class="n">setup</span><span class="o">.</span><span class="n">py</span>    <span class="c1"># Install the component code and tools/ files</span>
                    <span class="c1"># into the right places.</span>
    <span class="n">userid</span><span class="o">/</span>       <span class="c1"># For *temporary* personal space.</span>
</pre></div>
</div>
<p>Some sandbox projects are destined to move to the Docutils core once
completed.  Others, such as add-ons to Docutils or applications of
Docutils, may graduate to become <a class="reference internal" href="#parallel-projects">parallel projects</a>.</p>
</div>
<div class="section" id="parallel-projects">
<span id="parallel-project"></span><h3><a class="toc-backref" href="#id35">Parallel Projects</a><a class="headerlink" href="#parallel-projects" title="Permalink to this headline">¶</a></h3>
<p>Parallel projects contain useful code that is not central to the
functioning of Docutils.  Examples are specialized add-ons or
plug-ins, and applications of Docutils.  They use Docutils, but
Docutils does not require their presence to function.</p>
<p>An official parallel project will have its own directory beside (or
parallel to) the main <code class="docutils literal notranslate"><span class="pre">docutils</span></code> directory in the Subversion
repository.  It can have its own web page in the
docutils.sourceforge.net domain, its own file releases and
downloadable snapshots, and even a mailing list if that proves useful.
However, an official parallel project has implications: it is expected
to be maintained and continue to work with changes to the core
Docutils.</p>
<p>A parallel project requires a project leader, who must commit to
coordinate and maintain the implementation:</p>
<ul class="simple">
<li><p>Answer questions from users and developers.</p></li>
<li><p>Review suggestions, bug reports, and patches.</p></li>
<li><p>Monitor changes and ensure the quality of the code and
documentation.</p></li>
<li><p>Coordinate with Docutils to ensure interoperability.</p></li>
<li><p>Put together official project releases.</p></li>
</ul>
<p>Of course, related projects may be created independently of Docutils.
The advantage of a parallel project is that the SourceForge
environment and the developer and user communities are already
established.  Core Docutils developers are available for consultation
and may contribute to the parallel project.  It’s easier to keep the
projects in sync when there are changes made to the core Docutils
code.</p>
</div>
<div class="section" id="other-related-projects">
<h3><a class="toc-backref" href="#id36">Other related projects</a><a class="headerlink" href="#other-related-projects" title="Permalink to this headline">¶</a></h3>
<p>Many related but independent projects are listed in the Docutils
<a class="reference external" href="http://docutils.sourceforge.net/docs/user/links.html">link list</a>. If you want your project to appear there, drop a note at
the <a class="reference external" href="../user/mailing-lists.html#docutils-develop">Docutils-develop</a> mailing list.</p>
</div>
</div>
</div>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2021, Thierry Humphrey.
      
    </div>

    

    
  </body>
</html>